每当进程进入 `select()` 时，内核必须遍历传递的文件描述符，检查它们的状态并注册回调。
当进程调用 `select()` 时，内核会遍历用户传入的文件描述符集合，检查它们的可读、可写或异常状态。如果没有文件描述符就绪，进程就会进入阻塞状态。此时，内核会为每个被监控的文件描述符注册一个回调函数（如 `poll_wake`）到该文件描述符的等待队列中。

由于 `select()` 的位图（`fd_set`）在每次调用时会被内核修改，用户程序必须在每次调用前重新设置文件描述符集合和回调注册，导致额外开销。